<div class="container">  
  <h3>ProAgil Eventos</h3>
  <hr />
  <div action="">
    <div class="row">
      <div class="col-sm-3 mb-2">
        <input [(ngModel)]="filtroBuscar" type="text" class="form-control" placeholder="Buscar por tema">
        <span>Teste: {{filtroBuscar}}</span>
      </div>      
    </div>
  </div>
  <table class="table table-striped table-responsive">
    <thead class="table-dark">
      <tr>
        <th (click)="getExibirImagem()" class="text-center">
          <button class="btn btn-outline-info">
            <i class="{{showImg ? 'fa fa-eye-slash' : 'fa fa-eye'}}"></i>
          </button>
        </th>
        <th class="text-center">#</th>
        <th class="text-center">Tema</th>
        <th class="text-center">Local</th>
        <th class="text-center">Data</th>
        <th class="text-center">Vagas</th>
        <th class="text-center">Lote</th>
        <th class="text-center">Opções</th>
      </tr>    
    </thead>
    <tbody *ngIf="eventos && eventos.length">
      <tr *ngFor="let evento of eventosFiltrados">
        <td class="text-center">
          <img *ngIf="showImg" src="http://localhost:5000/img/{{evento.imagePath}}" [style.width.px]="50" [style.margin.px]="2"/>
        </td>        
        <td class="text-center">{{evento.id}}</td>
        <td class="text-center">{{evento.tema}}</td>
        <td class="text-center">{{evento.local}}</td>
        <td class="text-center">{{evento.dataEvento | datetimeformatpipe}}</td>
        <td class="text-center">{{evento.qtdPessoas}}</td>
        <td class="text-center">
          <div *ngIf="evento.lotes.length">
            {{evento.lotes[0].nome | uppercase}}
          </div>
          <div *ngIf="!evento.lotes.length">
            Não informado
          </div>
        </td>
        <td class="align-middle text-center">
          <div class="btn btn-group">
            <button type="button" class="btn btn-primary btn-sm" tooltip="Editar" (click)="openModal(template)">
              <i class="fa fa-edit"></i>
            </button>
            <button type="button" class="btn btn-danger btn-sm" tooltip="Excluir">
              <i class="fa fa-eraser"></i>
            </button>
          </div>          
        </td>
      </tr>
    </tbody>
    <tfoot *ngIf="!eventos.length">
      <tr>
        <td colspan="7" class=text-center>
          <h3>Nenhum item encontrado.</h3>
        </td>
      </tr>
    </tfoot>
  </table>
</div>
 
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Modal</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    This is a modal.
  </div>
</ng-template>